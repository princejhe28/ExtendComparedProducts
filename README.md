Extend native Recently Compared Products widget.

Add Option in widget form for ability to Filter by current category. “PLP: show same category items only” is [Yes/No]

When displayed on PLP (Any category) and “PLP: show same category items only” is set to Yes, show only Recently Compared Products, that belonging to current category.
